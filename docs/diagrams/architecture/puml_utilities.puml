@startuml "PlantUML Utilities Architecture"

' Define the components
package "PlantUML Utilities" as PumlUtils {
  [config.py] as Config
  [render_diagrams.py] as Renderer
  [cli.py] as CLI
  [__init__.py] as Init
  
  folder "viewer" {
    [index.html] as Viewer
  }
  
  [README.md] as Readme
  [004-plantuml-utilities.md] as SOP
}

package "External Dependencies" {
  [plantuml] as PlantUML
  [webbrowser] as Browser
}

package "Project Structure" {
  folder "docs/diagrams" {
    folder "architecture" as ArchFolder {
      [*.puml] as ArchDiagrams
    }
    
    folder "classifier" as ClassifierFolder {
      [*.puml] as ClassifierDiagrams
    }
    
    folder "database" as DBFolder {
      [*.puml] as DBDiagrams
    }
    
    folder "output" as OutputFolder {
      folder "architecture" as OutputArchFolder
      folder "classifier" as OutputClassifierFolder
      folder "database" as OutputDBFolder
    }
  }
  
  [Makefile] as ProjectMakefile
}

' Define the relationships
Config <-- Renderer : imports
Config <-- CLI : imports
Renderer <-- CLI : imports
Config <-- Init : imports
Renderer <-- Init : imports

CLI --> Browser : uses
Renderer --> PlantUML : uses

CLI ..> Viewer : opens
Renderer ..> OutputFolder : writes to

ProjectMakefile ..> CLI : calls

ArchDiagrams ..> OutputArchFolder : rendered to
ClassifierDiagrams ..> OutputClassifierFolder : rendered to
DBDiagrams ..> OutputDBFolder : rendered to

Viewer ..> OutputFolder : reads from

' Add notes
note right of Config
  Central configuration for:
  - Paths
  - Formats
  - Server URLs
end note

note right of Renderer
  Renders PlantUML diagrams to:
  - SVG
  - PNG
end note

note right of CLI
  Commands:
  - render
  - view
  - help
end note

note right of Viewer
  React-based viewer with:
  - Folder navigation
  - Format switching
  - Zoom controls
end note

note bottom of OutputFolder
  Contains rendered diagrams
  in SVG and PNG formats
end note

@enduml